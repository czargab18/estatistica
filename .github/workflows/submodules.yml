# CÃ³digo gerado/assistido por IA
name: Submodules Dispatch

on:
  workflow_dispatch:
  repository_dispatch:
    types: [atualizar-books, atualizar-newshub, atualizar-backend, atualizar-wss]
env:
  url: ${{ vars.URL }}
  TOKEN: ${{ secrets.TOKEN_REPO_SYNC }}
  USERNAME: ${{ github.repository_owner }}
  USEREMAIL: ${{ secrets.USEREMAIL }}

jobs:
  disparo:
    runs-on: ubuntu-latest
    environment:
      name: ENVIRONMENT

    steps:
      - name: Detectar evento de disparo
        run: |
          echo "Evento: ${{ github.event_name }}"

      - name: Detectar Submodule que disparou
        if: github.event_name == 'repository_dispatch'
        run: |
          if [ "${{ github.event.action }}" == "atualizar-books" ]; then
            echo "Disparo por atualizar-books"
          elif [ "${{ github.event.action }}" == "atualizar-newshub" ]; then
            echo "Disparo por atualizar-newshub"
          elif [ "${{ github.event.action }}" == "atualizar-backend" ]; then
            echo "Disparo por atualizar-backend"
          elif [ "${{ github.event.action }}" == "atualizar-wss" ]; then
            echo "Disparo por atualizar-wss"
          else
            echo "Outro tipo de disparo: ${{ github.event.action }}"
          fi
