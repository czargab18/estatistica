/* =============================================================================
   GLOBAL NAVBAR UNIFIED STYLES
   Arquivo unificado dos estilos globalheader.css e globalnavbar.css
   Nomenclatura padronizada para "globalnav" seguindo padrão Apple
   ============================================================================= */

/* =============================================================================
   CSS CUSTOM PROPERTIES (VARIÁVEIS)
   ============================================================================= */
:root {
  /* Cores principais */
  --globalnav-background: rgba(255, 255, 255, 0.8);
  --globalnav-background-opened: #fafafc;
  --globalnav-background-opened-dark: #161617;
  --globalnav-color: rgba(0, 0, 0, 0.8);
  --globalnav-color-secondary: #333336;
  --globalnav-color-secondary-black: rgba(0, 0, 0, 0.8);
  --globalnav-color-hover: #000000;
  --globalnav-submenu-header-color: rgb(110, 110, 115);
  
  /* Layout e dimensões */
  --r-globalnav-height: 44px;
  --globalnav-backdrop-filter: saturate(180%) blur(20px);
  
  /* Transições e animações */
  --globalnav-transition-rate: 0.3s;
  --easing-curve: cubic-bezier(0.4, 0, 0.6, 1);
  --r-globalnav-flyout-rate: 240ms;
  
  /* Flyout específico */
  --r-globalnav-flyout-elevated-group-count: 1;
  --r-globalnav-flyout-group-number: 0;
  --r-globalnav-flyout-group-total: 2;
  --r-globalnav-flyout-height: 452px;
  --r-globalnav-flyout-item-total: 0;
  --r-globalnav-scrollbar-width: 15px;
  
  /* Fontes */
  --r-globalfont-family: SF Pro Text, SF Pro Icons, Helvetica Neue, Helvetica, Arial, sans-serif;
  --r-globalnav-text-zoom-scale: 1;
}

/* =============================================================================
   RESET DE ESTILOS GLOBAIS
   ============================================================================= */
#globalnav {
  all: unset;
  position: sticky !important;
}

#globalnav ul,
#globalnav ol,
#globalnav li,
#globalnav dl,
#globalnav dt,
#globalnav dd,
#globalnav h1,
#globalnav h2,
#globalnav h3,
#globalnav h4,
#globalnav h5,
#globalnav h6,
#globalnav hgroup,
#globalnav p,
#globalnav blockquote,
#globalnav figure,
#globalnav form,
#globalnav fieldset,
#globalnav input,
#globalnav legend,
#globalnav pre,
#globalnav abbr,
#globalnav button {
  margin: 0;
  padding: 0;
  border: 0;
}

#globalnav pre,
#globalnav code,
#globalnav address,
#globalnav caption,
#globalnav th,
#globalnav figcaption {
  font-size: 1em;
  font-weight: 400;
  font-style: normal;
}

#globalnav fieldset,
#globalnav iframe {
  border: 0;
}

#globalnav caption,
#globalnav th {
  text-align: left;
}

#globalnav main,
#globalnav summary,
#globalnav details {
  display: block;
}

#globalnav audio,
#globalnav canvas,
#globalnav video,
#globalnav progress {
  vertical-align: baseline;
}

#globalnav button {
  background: none;
  border: 0;
  box-sizing: content-box;
  color: inherit;
  cursor: pointer;
  font: inherit;
  line-height: inherit;
  overflow: visible;
  vertical-align: inherit;
}

#globalnav button:disabled {
  cursor: default;
}

#globalnav ::-moz-focus-inner {
  border: 0;
  padding: 0;
}

/* =============================================================================
   LAYOUT PRINCIPAL DO NAVBAR
   ============================================================================= */
#globalnav {
  position: sticky;
  top: 0;
  right: 0;
  left: 0;
  z-index: 9999;
  display: flex;
  flex-direction: column;
  align-content: center;
  width: 100%;
  max-width: 2560px;
  height: var(--r-globalnav-height);
  margin: 0;
  padding: 0;
  font-size: 17px;
  -webkit-user-select: none;
  user-select: none;
  -webkit-backdrop-filter: var(--globalnav-backdrop-filter);
  backdrop-filter: var(--globalnav-backdrop-filter);
}

#globalnav .globalnav-content {
  margin: 0 auto;
  box-sizing: border-box;
  width: 100%;
  max-width: 1024px;
  padding: 0 22px;
  z-index: 2;
}

#globalnav .globalnav-list {
  width: 100%;
  height: 44px;
  display: flex;
  justify-content: space-between;
  list-style: none;
}

#globalnav .globalnav-item {
  box-sizing: border-box;
  height: auto;
}

#globalnav .globalnav-link {
  display: flex;
  align-items: center;
  justify-content: center;
  position: relative;
  z-index: 1;
  padding: 0 calc(9px / var(--r-globalnav-text-zoom-scale, 1));
  height: 44px;
  text-decoration: none;
  white-space: nowrap;
  outline-offset: -7px;
  font-size: 12px;
  font-weight: 400;
  letter-spacing: -0.01em;
  font-family: var(--r-globalfont-family);
  line-height: 1;
  color: var(--globalnav-color-secondary-black);
  background: no-repeat;
  transition: color 0.32s cubic-bezier(0.4, 0, 0.6, 1);
}

/* =============================================================================
   LOGO E MARCA ESTATÍSTICA
   ============================================================================= */
#globalnav .globalnav-link span[class*="globalnav-estatistica-regular"],
#globalnav .globalnav-link span[class*="globalnav-estatistica-regular"] svg {
  height: var(--r-globalnav-height);
  width: max-content;
}

#globalnav .globalnav-link svg {
  fill: currentColor;
}

#globalnav .globalnav-link-estatistica {
  font-size: 17px;
  line-height: 1.2353641176;
  font-weight: 600;
  letter-spacing: -0.022em;
  font-family: var(--r-globalfont-family);
  display: flex;
  align-items: center;
  height: 100%;
}

#globalnav .globalnav-link-estatistica .globalnav-link-text {
  margin-inline-start: 4px;
}

#globalnav .globalnav-link-estatistica .globalnav-link-text-estatistica {
  display: none;
}

#globalnav .globalnav-link-estatistica:lang(pt-br) {
  letter-spacing: 0em;
  font-family: var(--r-globalfont-family);
}

#globalnav span[class*="-regular"] {
  height: auto;
  display: none;
  align-items: center;
}

#globalnav span[class*="globalnav-estatistica-regular"] {
  display: block;
  height: auto;
  align-items: center;
}

/* =============================================================================
   ESTADOS DE INTERAÇÃO
   ============================================================================= */
#globalnav .globalnav-link:hover,
#globalnav .globalnav-link:focus[data-focus-method="key"] {
  color: var(--globalnav-color-secondary-black) !important;
  text-decoration: none;
}

#globalnav:focus {
  outline: 4px solid rgba(0, 125, 250, 0.6);
  outline-offset: 1px;
}

#globalnav:focus[data-focus-method="mouse"]:not(input):not(textarea):not(select),
#globalnav:focus[data-focus-method="touch"]:not(input):not(textarea):not(select) {
  outline: none;
}

#globalnav.globalnav-hover-active {
  background-color: var(--globalnav-background-opened);
  transition: background-color 0s ease;
}

/* =============================================================================
   SUBMENU / FLYOUT
   ============================================================================= */
#globalnav .globalnav-submenu {
  background: var(--globalnav-background-opened);
  display: inherit;
  left: 50%;
  max-width: 2560px;
  max-height: 0;
  opacity: 0;
  visibility: hidden;
  overflow: hidden;
  position: absolute;
  text-align: start;
  transform: translateX(-50%);
  transform-origin: top;
  width: 100%;
  z-index: 100;
  transition: max-height var(--globalnav-transition-rate) var(--easing-curve),
    opacity var(--globalnav-transition-rate) var(--easing-curve), 
    visibility var(--globalnav-transition-rate) step-end;
}

/* Ativação do submenu */
#globalnav .globalnav-item:hover .globalnav-submenu,
#globalnav .globalnav-item:focus-within .globalnav-submenu {
  max-height: 500px;
  opacity: 1;
  visibility: visible;
  transition: max-height var(--globalnav-transition-rate) var(--easing-curve),
    opacity var(--globalnav-transition-rate) var(--easing-curve), 
    visibility var(--globalnav-transition-rate) step-start;
}

#globalnav .globalnav-submenu-content {
  box-sizing: border-box;
  display: flex;
  justify-content: space-between;
  margin: 0 auto;
  max-width: calc(1024px - var(--r-globalnav-scrollbar-width));
  padding-bottom: 84px;
  padding-inline-end: max(22px, var(--r-globalnav-safe-area-inset-end));
  padding-inline-start: max(22px, var(--r-globalnav-safe-area-inset-start));
  padding-top: 40px;
  width: 100%;
  z-index: 2;
}

#globalnav .globalnav-submenu-group {
  box-sizing: border-box;
}

#globalnav .globalnav-submenu-group,
#globalnav .globalnav-submenu-group-elevated {
  max-width: 50%;
  padding-inline-end: 88px;
}

#globalnav .globalnav-submenu-header {
  color: var(--globalnav-submenu-header-color);
  display: block;
  font-family: SF Pro Text, SF Pro Icons, Helvetica Neue, Helvetica, Arial, sans-serif;
  font-size: 12px;
  font-weight: 400;
  letter-spacing: -0.01em;
  line-height: 1.3333733333;
  opacity: 1;
  transform: translateY(0);
  transition-delay: calc(var(--r-globalnav-flyout-group-delay) + 80ms);
  transition-duration: 0.32s;
  transition-property: opacity, transform;
}

#globalnav .globalnav-submenu-list-item {
  font-family: SF Pro Text, SF Pro Icons, Helvetica Neue, Helvetica, Arial, sans-serif;
  font-size: 12px;
  font-weight: 600;
  letter-spacing: -0.01em;
  line-height: 1.3333733333;
  margin-inline-end: -11px;
  margin-inline-start: -11px;
}

#globalnav .globalnav-submenu-list-item:first-child {
  margin-top: 10px;
}

#globalnav .globalnav-submenu-list-item-elevated {
  font-family: SF Pro Display, SF Pro Icons, Helvetica Neue, Helvetica, Arial, sans-serif;
  font-size: 24px;
  font-weight: 600;
  letter-spacing: 0.009em;
  line-height: 1.1666666667;
  margin-inline-end: -11px;
  margin-inline-start: -11px;
}

#globalnav .globalnav-submenu-list-item-elevated .globalnav-submenu-link {
  padding-top: 9px;
}

#globalnav .globalnav-submenu-link {
  color: var(--globalnav-color-secondary);
  display: inline-block;
  margin-bottom: -6px;
  padding: 7px 11px;
  text-decoration: none;
  transition: color 0.32s cubic-bezier(0.4, 0, 0.6, 1);
  -webkit-tap-highlight-color: rgba(0, 0, 0, 0);
}

#globalnav .globalnav-item.globalnav-item-flyout-open .globalnav-submenu-list-item,
#globalnav .globalnav-item.globalnav-item-flyout-open .globalnav-submenu-list-item-elevated {
  --r-globalnav-flyout-item-number: 2;
  opacity: 1;
  transform: translateY(0);
  transition-duration: 0.32s;
  transition-delay: calc(
    var(--r-globalnav-flyout-group-delay) + var(--r-globalnav-flyout-item-number) * 20ms + 80ms
  );
}

.globalnav-submenu-list-item-elevated:nth-last-child(-n + 2) .globalnav-submenu-link {
  font-size: 12px;
  line-height: 16px;
}

.globalnav-submenu-list-item-elevated:nth-last-child(2) {
  margin-top: 12px !important;
}

/* Flyout scroll container */
li.globalnav-item .globalnav-flyout-scroll-container {
  box-sizing: border-box;
  display: none;
  justify-items: center;
  left: 0;
  max-height: calc(100% - 44px);
  max-height: 2560px;
  overflow-y: hidden;
  position: relative;
  right: 0;
  top: 0;
  width: calc(100% - 44px);
  z-index: 100;
}

li.globalnav-item:hover .globalnav-flyout-scroll-container,
li.globalnav-item .globalnav-flyout-scroll-container:hover {
  display: block;
}

.globalnav-flyout-content {
  display: flex;
}

/* =============================================================================
   MENU MOBILE (OCULTO)
   ============================================================================= */
#globalnav .globalnav-menuback {
  display: none;
}

#globalnav .globalnav-menutrigger {
  width: 48px;
  border-bottom: none;
  display: none;
}

/* =============================================================================
   IMAGENS E ÍCONES
   ============================================================================= */
#globalnav .globalnav-image-compact {
  display: flex;
}

#globalnav .globalnav-image-regular {
  display: none;
}

/* =============================================================================
   MEDIA QUERIES
   ============================================================================= */
@media only screen and (min-width: 834px) {
  #globalnav {
    background: var(--globalnav-background);
  }
}

/* Ocultar navbar em telas menores (temporário) */
@media only screen and (max-width: 833px) {
  #globalnav {
    display: none;
    /* 
    Removido temporariamente em telas menores que 833px
    até ajustar a responsividade adequadamente.
    */
  }
  
  #globalnav {
    --r-globalnav-height: 48px;
    max-height: none;
  }
  
  #globalnav .globalnav-content {
    display: flex;
    padding: 0;
    position: relative;
    top: 0;
    width: 100%;
    height: max-content;
    background: var(--globalnav-background);
    transition: background var(--r-globalnav-flyout-rate) cubic-bezier(0.4, 0, 0.6, 1) 80ms;
  }
  
  #globalnav .globalnav-item {
    width: auto;
    height: auto;
    transition: color 0.32s cubic-bezier(0.4, 0, 0.6, 1);
  }
  
  #globalnav .globalnav-list > .globalnav-item {
    height: 100%;
  }

  #globalnav .globalnav-list > .globalnav-item > .globalnav-link {
    opacity: 1;
    visibility: visible;
    transition: opacity 0.24s cubic-bezier(0.4, 0, 0.6, 1) 80ms, 
                visibility 0.24s step-start 80ms;
  }
  
  #globalnav .globalnav-item {
    width: 48px;
  }
  
  #globalnav .globalnav-item .globalnav-link {
    height: 48px;
  }
  
  #globalnav .globalnav-item-govbr .globalnav-link-govbr {
    width: max-content;
    padding: 0 16px;
  }

  #globalnav:not([dir="rtl"]) .globalnav-item-govbr .globalnav-link-govbr {
    margin-left: max(0px, env(safe-area-inset-left) - 16px);
  }

  #globalnav[dir="rtl"] .globalnav-item-govbr .globalnav-link-govbr {
    margin-right: max(0px, env(safe-area-inset-right) - 16px);
  }

  #globalnav .globalnav-item-govbr .globalnav-link-text {
    display: none;
  }

  #globalnav .globalnav-link {
    font-size: 28px;
    line-height: 1.1428571429;
    font-weight: 600;
    letter-spacing: 0.007em;
    font-family: var(--r-globalfont-family);
  }
  
  #globalnav .globalnav-link:lang(pt-br) {
    font-family: var(--r-globalfont-family);
  }

  /* Ocultar textos em mobile, manter apenas ícones */
  #globalnav span[class*="-regular"],
  #globalnav span[class="globalnav-link-text"] {
    display: none;
  }

  /* Mostrar logo da Estatística em mobile */
  #globalnav span[class*="-estatistica-regular"] {
    height: auto;
    display: flex;
    align-items: center;
  }
}
